webpackJsonp([3],{711:function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function l(e){var t=e.homeSearch,a=t.history;return{_search:t.server_search,_sResult:t.searchResult,searchTxt:t.searchTxt,isSearch:t.isSearch,_history:a}}function n(e){return{ACTIONS:(0,x.bindActionCreators)(D.default,e)}}Object.defineProperty(t,"__esModule",{value:!0});var c=a(23),s=r(c),u=a(5),i=r(u),o=a(279),h=r(o),m=a(27),p=r(m),f=a(1),d=r(f),v=a(2),g=r(v),y=a(3),S=r(y),N=a(4),_=r(N);a(280);var E=a(0),T=r(E),x=a(77),b=a(144),M=a(6),k=(r(M),a(33),a(54)),w=a(55),A=a(97),C=(r(A),a(735)),I=r(C),O=a(273),D=r(O),P=(a(56),a(715));a(736);var q=function(e){function t(){var e,a,r,l;(0,d.default)(this,t);for(var n=arguments.length,c=Array(n),s=0;s<n;s++)c[s]=arguments[s];return a=r=(0,S.default)(this,(e=t.__proto__||(0,p.default)(t)).call.apply(e,[this].concat(c))),r.state={allMatch:[]},r.searchInpuver=function(e){r.props.ACTIONS.set({searchTxt:e}),""!==r.state.searchTxt&&r._query_(e)},r.clear=function(){r.props.ACTIONS.set({searchTxt:"",isSearch:!1})},r._query=function(e){console.log("val",e);var t=r.props,a=t.searchTxt;t.ACTIONS;(0,k.fetchJson)({type:"POST",url:"/musicApi/neteaseMusic/weapi/search/suggest/keyword",data:{s:a}}).then(function(e){if(200===e.code){var t=e.result.allMatch,a=void 0===t?[]:t;return void r.setState({allMatch:a})}e.error&&w.StaticToast.error(e.error)})},r.tagSearch=function(e){var t=r.props.ACTIONS;t.set({searchTxt:e,isSearch:!0}),t.historyPush(e),t.search(e)},l=a,(0,S.default)(r,l)}return(0,_.default)(t,e),(0,g.default)(t,[{key:"componentDidMount",value:function(){this._query_=I.default.throttle(this._query,600);var e=this.props,t=e.ACTIONS;!e._search.list.length&&t.search_fetch()}},{key:"render",value:function(){var e=this,t=this.props,r=t._search.list,l=t._sResult,n=t.searchTxt,c=t.isSearch,s=t._history,u=t.ACTIONS,o=this.state.allMatch;return T.default.createElement("section",{className:"i-search"},T.default.createElement("form",{className:"i-search-column",action:"#",method:"get",onSubmit:function(){}},T.default.createElement("p",{className:"inputcover"},T.default.createElement("input",{type:"text",className:"inpuver",value:n,onChange:function(t){return e.searchInpuver(t.target.value)},placeholder:"搜索歌曲、歌手、专辑"}),T.default.createElement(w.Svg,{hash:"svg-search"}),!!n&&T.default.createElement(h.default,{className:"cross-circle",type:"cross-circle-o",onClick:function(){return e.clear()}}))),""===n?T.default.createElement("section",{className:"hot-default"},T.default.createElement("div",{className:"s-hot-column"},T.default.createElement("h5",{className:"tit"},"热门搜索"),T.default.createElement("section",{className:"s-hot-tag"},r.map(function(t,a){return T.default.createElement("span",{key:""+(a+t.second),className:"s-item-tag",onClick:function(){return e.tagSearch(t.first)}},t.first)}))),!!s.length&&T.default.createElement("ul",{className:"s-hot-history"},s.map(function(e,t){return T.default.createElement("li",{className:"hist-item",key:"history"+t},T.default.createElement("p",{className:"time"},T.default.createElement(w.Svg,{href:a(737)+"#svg-time"})),T.default.createElement("div",{className:"hist-text"},e),T.default.createElement("p",{className:"close"},T.default.createElement(h.default,{className:"cross",type:"cross",onClick:function(){return u.historyDelete(t)}})))}))):c?T.default.createElement(R,(0,i.default)({song_Already:l.song_Already,list:l.list},this.props)):T.default.createElement("section",{className:"s-all-match"},T.default.createElement("h4",{className:"s-match-key s-fd"},'搜索"'+n+'"'),T.default.createElement("ul",null,o.map(function(t,a){return T.default.createElement("li",{className:"recomitem",key:a,onClick:function(){return e.tagSearch(t.keyword)}},T.default.createElement("p",null,T.default.createElement(w.Svg,{hash:"svg-search"})),T.default.createElement("p",{className:"s-fd"},t.keyword))}))))}}]),t}(E.Component),R=function(e){var t=e.song_Already,a=e.list,r=void 0===a?[]:a;return T.default.createElement("ul",{className:"s-sglst"},t?r.length>0?r.map(function(e,t){var a=(e.album,e.privilege.maxbr),r=void 0===a?0:a,l=e.ar,n=e.alias,c=void 0===n?[]:n,u=(0,s.default)(e,["album","privilege","ar","alias"]);return T.default.createElement(w.Piece,{item:(0,i.default)({},u,{maxbr:r,custom_alia:c,custom_ar:[l[0]],index:t},e),key:t})}):null:T.default.createElement(P.HomeList,{len:4}))};t.default=(0,b.connect)(l,n)(q),e.exports=t.default},735:function(module,exports,__webpack_require__){"use strict";module.exports={throttle:function(e,t,a){var r,l,n,c=null,s=0;a||(a={});var u=function(){s=!1===a.leading?0:Date.now(),c=null,n=e.apply(r,l),c||(r=l=null)};return function(){var i=Date.now();s||!1!==a.leading||(s=i);var o=t-(i-s);return r=this,l=arguments,o<=0||o>t?(c&&(clearTimeout(c),c=null),s=i,n=e.apply(r,l),c||(r=l=null)):c||!1===a.trailing||(c=setTimeout(u,o)),n}},debounce:function(e,t,a){var r,l,n,c,s,u=function u(){var i=Date.now()-c;i<t&&i>=0?r=setTimeout(u,t-i):(r=null,a||(s=e.apply(n,l),r||(n=l=null)))};return function(){n=this,l=arguments,c=Date.now();var i=a&&!r;return r||(r=setTimeout(u,t)),i&&(s=e.apply(n,l),n=l=null),s}},changeURLPar:function changeURLPar(destiny,par,par_value){var pattern=par+"=([^&]*)",replaceText=par+"="+par_value;if(destiny.match(pattern)){var tmp="/\\"+par+"=[^&]*/";return tmp=destiny.replace(eval(tmp),replaceText)}return destiny.match("[?]")?destiny+"&"+replaceText:destiny+"?"+replaceText},accAdd:function(e,t){var a,r,l,n;try{a=e.toString().split(".")[1].length}catch(e){a=0}try{r=t.toString().split(".")[1].length}catch(e){r=0}if(n=Math.abs(a-r),l=Math.pow(10,Math.max(a,r)),n>0){var c=Math.pow(10,n);a>r?(e=Number(e.toString().replace(".","")),t=Number(t.toString().replace(".",""))*c):(e=Number(e.toString().replace(".",""))*c,t=Number(t.toString().replace(".","")))}else e=Number(e.toString().replace(".","")),t=Number(t.toString().replace(".",""));return(e+t)/l},accSub:function(e,t){var a,r,l,n;try{a=e.toString().split(".")[1].length}catch(e){a=0}try{r=t.toString().split(".")[1].length}catch(e){r=0}return l=Math.pow(10,Math.max(a,r)),n=a>=r?a:r,((e*l-t*l)/l).toFixed(n)},accMul:function(e,t){var a=0,r=e.toString(),l=t.toString();try{a+=r.split(".")[1].length}catch(e){}try{a+=l.split(".")[1].length}catch(e){}return Number(r.replace(".",""))*Number(l.replace(".",""))/Math.pow(10,a)},accDiv:function(e,t){var a,r,l=0,n=0;try{l=e.toString().split(".")[1].length}catch(e){}try{n=t.toString().split(".")[1].length}catch(e){}return a=Number(e.toString().replace(".","")),r=Number(t.toString().replace(".","")),a/r*Math.pow(10,n-l)}}},736:function(e,t){},737:function(e,t,a){e.exports=a.p+"fonts/icon.0b00a27d.svg"}});