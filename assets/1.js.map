{"version":3,"sources":["webpack:///./src/pages/Home/Index/index.js"],"names":["songArtists","arr","arguments","length","undefined","name","map","k","join","mapStateToProps","state","_state$homeIndex","homeIndex","_playlist","server_playlist","_newsong","newsong","mapDispatchToProps","dispatch","ACTIONS","_redux","bindActionCreators","actions","_react","__webpack_require__","_reactRedux","_classnames","_reactRouter","_common","_format","_actions","Home","_props","this","props","playlist_fetch","_props2","_react2","default","createElement","className","PanelNav","title","v","key","id","Link","src","picUrl","width","height","alt","Svg","hash","format","units","playCount","alg","song","artists","option","store","Component","connect"],"mappings":"qHAiFA,QAASA,KAAwB,GAAZC,GAAYC,UAAAC,OAAA,OAAAC,KAAAF,UAAA,GAAAA,UAAA,MAALG,EAAKH,UAAA,EAChC,OAAID,GAGSA,EAAIK,IAAI,SAACC,GAAD,MAAKA,GAAEF,OACXG,KAAK,OAAtB,MAAkCH,EAH1BA,EAMT,QAASI,GAAgBC,GAAM,GAAAC,GACID,EAAME,SAExC,QACCC,UAJ6BF,EACvBG,gBAINC,SAL6BJ,EACPK,SAQxB,QAASC,GAAmBC,GAC3B,OACCC,SAAQ,EAAAC,EAAAC,oBAAmBC,UAAQJ,mIA9FrCK,EAAAC,EAAA,UACAJ,EAAAI,EAAA,IACAC,EAAAD,EAAA,IACAE,EAAAF,EAAA,IACAG,QAAAH,EAAA,KAGAI,GADAJ,EAAA,IACAA,EAAA,KACAK,EAAAL,EAAA,WACAM,EAAAN,EAAA,UAEAA,GAAA,QAIMO,sNASc,GAAAC,GACMC,KAAKC,MAAxBrB,EADamB,EACbnB,UAAUM,EADGa,EACHb,SACZN,EAAUV,QAAQgB,EAAQgB,iBAC7BhB,EAAQH,2CAGD,GAAAoB,GACoBH,KAAKC,MAA3BrB,EADEuB,EACFvB,UAAUE,EADRqB,EACQrB,QACf,OACCsB,GAAAC,QAAAC,cAAA,OAAKC,UAAU,UACdH,EAAAC,QAAAC,cAACX,EAAAa,UAASC,MAAM,SAChBL,EAAAC,QAAAC,cAAA,MAAIC,UAAU,aAEb3B,EAAUP,IAAI,SAACC,EAAEoC,GAEhB,MACCN,GAAAC,QAAAC,cAAA,MAAIC,UAAU,iBAAiBI,IAAKrC,EAAEsC,IACrCR,EAAAC,QAAAC,cAACZ,EAAAmB,MAAKN,UAAU,WACfH,EAAAC,QAAAC,cAAA,OAAKC,UAAU,cACdH,EAAAC,QAAAC,cAAA,OAAKC,UAAU,cAAcO,IAAKxC,EAAEyC,OAAQC,MAAO,OAAQC,OAAQ,OAAQC,IAAK5C,EAAEF,QAEnFgC,EAAAC,QAAAC,cAAA,KAAGC,UAAU,kBAAiBH,EAAAC,QAAAC,cAACX,EAAAwB,KAAIC,KAAK,iBAAiBC,UAAOC,MAAMhD,EAAEiD,YACxEnB,EAAAC,QAAAC,cAAA,KAAGC,UAAU,YAAYjC,EAAEF,WAOhCgC,EAAAC,QAAAC,cAACX,EAAAa,UAASC,MAAM,SAChBL,EAAAC,QAAAC,cAAA,MAAIC,UAAU,WAEbzB,EAAST,IAAI,SAACC,EAAEoC,GACf,MACCN,GAAAC,QAAAC,cAAA,MAAIC,UAAU,eAAeI,IAAKrC,EAAEsC,IACnCR,EAAAC,QAAAC,cAACZ,EAAAmB,MAAKN,UAAU,WACfH,EAAAC,QAAAC,cAAA,OAAKC,UAAU,WACdH,EAAAC,QAAAC,cAAA,MAAIC,UAAU,QAAQjC,EAAEF,MACxBgC,EAAAC,QAAAC,cAAA,KAAGC,UAAU,SAAgB,cAAPjC,EAAEkD,IAAkBpB,EAAAC,QAAAC,cAACX,EAAAwB,KAAIC,KAAK,YAAY,KAAMrD,EAAYO,EAAEmD,KAAKC,QAAQpD,EAAEF,QAEpGgC,EAAAC,QAAAC,cAAA,KAAGC,UAAU,aAAYH,EAAAC,QAAAC,cAACX,EAAAwB,KAAKC,KAAK,uDAhD5BO,GACX,GAAIA,GAAUA,EAAOC,MACjB,MAAOD,GAAOC,MAAM3C,SAASI,UAAQa,iBAErCF,MAAKC,MAAMf,QAAQgB,wBALV2B,wBAkFH,EAAArC,EAAAsC,SAAQtD,EAAgBQ,GAAoBc","file":"1.js","sourcesContent":["/*\n * @authors :Bin Mei\n * @date    :2017-05-26\n * @description： 网易音乐 -- 推荐音乐\n */\n\nimport React, { Component, PropTypes } from 'react';\nimport {bindActionCreators} from \"redux\";\nimport {connect} from \"react-redux\";\nimport classnames from 'classnames';\nimport { Link ,browserHistory } from 'react-router';\nimport { Grid,Button } from 'antd-mobile';\nimport { fetchJson } from 'src/utils/fetch';\nimport {StaticToast,Svg,PanelNav} from 'src/components/common';\nimport format from \"src/utils/format\";\nimport actions from \"src/store/actions\";\n\nimport './Home.scss';\n\n\n\nclass Home extends Component{\n\tstatic loadData(option) {\n      if (option && option.store) {\n          return option.store.dispatch(actions.playlist_fetch());\n      } else {\n          this.props.ACTIONS.playlist_fetch();\n      }\n  }\n\n\tcomponentDidMount(){\n\t\tlet {_playlist,ACTIONS}=this.props;\n    !_playlist.length&&ACTIONS.playlist_fetch();\n\t\tACTIONS.newsong();\n\n\t}\n\trender(){\n\t\tlet {_playlist,_newsong} = this.props;\n\t\treturn ( \n\t\t\t<div className=\"i-home\">\n\t\t\t\t<PanelNav title=\"推荐歌单\"/>\n\t\t\t\t<ul className=\"recommend\">\n\t\t\t\t\t{\n\t\t\t\t\t_playlist.map((k,v)=>{\n\t\t\t\t\t\t\n\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t<li className=\"recommend-item\" key={k.id}>\n\t\t\t\t\t\t\t\t<Link className=\"re-link\">\n\t\t\t\t\t\t\t\t\t<div className=\"re-briefly\">\n\t\t\t\t\t\t\t\t\t\t<img className=\"briefly-img\" src={k.picUrl} width={122.88} height={122.88} alt={k.name}/>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<p className=\"shadow-suspend\"><Svg hash=\"svg-earphone\"/>{format.units(k.playCount)}</p>\n\t\t\t\t\t\t\t\t\t<p className=\"re-title\">{k.name}</p>\n\t\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t);\n\t\t\t\t\t})\n\t\t\t\t\t}\n\t\t\t\t</ul>\n\t\t\t\t<PanelNav title=\"最新音乐\"/>\n\t\t\t\t<ul className=\"newsong\">\n\t\t\t\t\t{\n\t\t\t\t\t_newsong.map((k,v)=>{\n\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t<li className=\"newsong-item\" key={k.id}>\n\t\t\t\t\t\t\t\t<Link className=\"ns-link\">\n\t\t\t\t\t\t\t\t\t<div className=\"ns-flex\">\n\t\t\t\t\t\t\t\t\t\t<h5 className=\"name\">{k.name}</h5>\n\t\t\t\t\t\t\t\t\t\t<p className=\"brief\">{k.alg==\"hot_server\"?<Svg hash=\"svg-hot\"/>:null}{songArtists(k.song.artists,k.name)}</p>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<p className=\"play-icon\"><Svg  hash=\"svg-play\"/></p>\n\t\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t);\n\t\t\t\t\t})\n\t\t\t\t\t}\n\t\t\t\t</ul>\n\t\t\t</div>\n\t\t);\n\t}\n};\nfunction songArtists(arr=[],name){\n\tif(!arr){\n\t\treturn name;\n\t};\n\tlet result = arr.map((k)=>k.name);\n\treturn `${result.join(\" / \")} - ${name}`;\n}\n\nfunction mapStateToProps(state){\n\tconst {server_playlist,newsong} = state.homeIndex;\n\t// console.log(state.homeIndex)\n\treturn {\n\t\t_playlist:server_playlist,\n\t\t_newsong:newsong\n\t};\n}; \n\nfunction mapDispatchToProps(dispatch){\n\treturn {\n\t\tACTIONS:bindActionCreators(actions,dispatch)\n\t};\n};\nexport default  connect(mapStateToProps,mapDispatchToProps)(Home);\n\n\n// WEBPACK FOOTER //\n// ./src/pages/Home/Index/index.js"],"sourceRoot":""}